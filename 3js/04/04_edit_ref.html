<!DOCTYPE html>
<html oncontextmenu='return false' onselectstart='return false' ondragstart='return false'><title>STL format</title>
<style type='text/css'>html {
    background: #000000;
}

#imageContainer {
    position: fixed;
    top: -99999px;
    left: -99999px;
    margin-top: 0px;
    margin-left: 0px;
}

#my-gui-container {
    position: fixed;
    top: 0%;
    left: 100%;
    margin-top: 0px;
    margin-left: -245px;
}</style>
<div id='imageContainer'><img src='' id='image'></div>
<div id='my-gui-container'></div>
<script type='text/javascript' src='dat.gui.js'></script>
<script type='text/javascript'>

    var a = 0;
    var prev_src = '';
    var next_src = '';
    setInterval(function () {
        if (a > 1) {
            next_src = 'DATA/' + 'R' + text.R + '_H' + text.H + '_O' + text.O + '.jpg';
        }
        if (next_src != prev_src) {
            document.getElementById('image').src = 'DATA/' + 'R' + text.R + '_H' + text.H + '_O' + text.O + '.jpg';
            if (a > 0) {
                document.getElementById('imageContainer').style.top = '50%';
                document.getElementById('imageContainer').style.left = '50%';
            }
            document.getElementById('imageContainer').style.marginTop = -image.height / 2 + 'px';
            document.getElementById('imageContainer').style.marginLeft = -image.width / 2 + 'px';
            a = a + 1;
        }
        prev_src = 'DATA/' + 'R' + text.R + '_H' + text.H + '_O' + text.O + '.jpg';
    }, 500);
    var myInterface = function () {
        this.R = 10;
        this.H = 10;
        this.O = 10;
        this._RANDOMIZE = function () {
            Rnd();
        };
    };
    var text = new myInterface();
    var gui = new dat.GUI({autoPlace: false});
    var customContainer = document.getElementById('my-gui-container');
    customContainer.appendChild(gui.domElement);
    var info = gui.addFolder('GENERATOR');
    gui.add(text, 'R', 1, 6).step(1);
    gui.add(text, 'H', 1, 6).step(1);
    gui.add(text, 'O', 1, 6).step(1);
    gui.add(text, '_RANDOMIZE');
    text.R = 3;
    text.H = 3;
    text.O = 3;
    for (var i in gui.__controllers) {
        gui.__controllers[i].updateDisplay();
    }
    var Rnd = function () {
        text.R = Math.round(1 + Math.random() * (6 - 1));
        text.H = Math.round(1 + Math.random() * (6 - 1));
        text.O = Math.round(1 + Math.random() * (6 - 1));
        for (var i in gui.__controllers) {
            gui.__controllers[i].updateDisplay();
        }
    };
</script>
